<!DOCTYPE html>
	<head>
	    <meta charset="utf-8">
		<title>Displacement</title>
		
		<link rel="stylesheet" href="style.css"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>

	<body>
		<div id="Body">
				<div id="title_div">
					<h1>2D Plane Transformations</h1>
				</div>
				<div id="Content">

					<div id="input_display" class="canvasContainer">
						<canvas id="Grid01"></canvas>
						<div id="text_overlay_input">
							<!--- See how can we make text_overlay input be displayed only over the canvas.
							Now, it renders over canvas container so a little spills out-->
						</div>
							<button id="lockBtn">
								<span id="lockedSVG">
									<svg
									   height="100%"
									   viewBox="0 0 18.45 24.45"
									   version="1.1"
									   xmlns="http://www.w3.org/2000/svg"
									   xmlns:svg="http://www.w3.org/2000/svg">
									  <defs
									     id="defs2" />
									  <path
									     fill="#494c4e"
									     d="m 11.225,15.225 c 0,0.74 -0.4,1.38 -1,1.73 v 2.27 c 0,0.55 -0.4500001,1 -1.0000001,1 -0.55,0 -1,-0.45 -1,-1 v -2.27 c -0.6,-0.35 -1,-0.99 -1,-1.73 0,-1.1 0.9,-2 2,-2 1.1000001,0 2.0000001,0.9 2.0000001,2 z"
									     id="path1"
									     style="fill:#ff0000;fill-opacity:1;stroke:#ffffff;stroke-width:0.6;stroke-dasharray:none;stroke-opacity:1" />
									  <path
									     fill="#494c4e"
									     d="m 16.225,9.225 h -1 v -4 c 0,-2.76 -2.24,-5.00000001 -5,-5.00000001 H 8.2249999 c -2.76,0 -5,2.24000001 -5,5.00000001 v 4 h -1 c -1.1,0 -2,0.9 -2,2 v 11 c 0,1.1 0.9,2 2,2 H 16.225 c 1.1,0 2,-0.9 2,-2 v -11 c 0,-1.1 -0.9,-2 -2,-2 z m -11.0000001,-4 c 0,-1.65 1.35,-3 3,-3 H 10.225 c 1.65,0 3,1.35 3,3 v 4 H 5.2249999 Z M 16.225,21.725 c 0,0.28 -0.22,0.5 -0.5,0.5 H 2.7249999 c -0.28,0 -0.5,-0.22 -0.5,-0.5 v -10 c 0,-0.28 0.22,-0.5 0.5,-0.5 H 15.725 c 0.28,0 0.5,0.22 0.5,0.5 z"
									     id="path2"
									     style="fill:#ff0000;fill-opacity:1;stroke:#ffffff;stroke-width:0.6;stroke-dasharray:none;stroke-opacity:1" />
									</svg>
								</span>
								<span id="unlockedSVG" hidden>
									<svg
									   height="100%"
									   viewBox="0 0 24.45 23.450001"
									   version="1.1"
									   xmlns="http://www.w3.org/2000/svg"
									   xmlns:svg="http://www.w3.org/2000/svg">
									  <defs
									     id="defs2" />
									  <path
									     fill="#494c4e"
									     d="m 19.225,0.22499997 h -1 c -2.76,0 -5,2.24000003 -5,5.00000003 v 3 h -11 c -1.1,0 -2.00000001,0.9 -2.00000001,2 v 11 c 0,1.1 0.90000001,2 2.00000001,2 h 14 c 1.1,0 2,-0.9 2,-2 v -11 c 0,-1.1 -0.9,-2 -2,-2 h -1 v -3 c 0,-1.65 1.35,-3 3,-3 h 1 c 1.65,0 3,1.35 3,3 v 6 c 0,0.55 0.45,1 1,1 0.55,0 1,-0.45 1,-1 v -6 c 0,-2.76 -2.24,-5.00000003 -5,-5.00000003 z M 15.725,10.225 c 0.28,0 0.5,0.22 0.5,0.5 v 10 c 0,0.27 -0.22,0.5 -0.5,0.5 h -13 c -0.28,0 -0.5,-0.22 -0.5,-0.5 v -10 c 0,-0.27 0.22,-0.5 0.5,-0.5 z"
									     id="path1"
									     style="fill:#07ff00;fill-opacity:1;stroke:#ffffff;stroke-width:0.6;stroke-dasharray:none;stroke-opacity:1" />
									  <path
									     fill="#494c4e"
									     d="m 11.225,14.225 c 0,0.74 -0.4,1.38 -1,1.73 v 2.27 c 0,0.55 -0.45,1 -1,1 -0.55,0 -1,-0.45 -1,-1 v -2.27 c -0.6,-0.35 -1,-0.99 -1,-1.73 0,-1.1 0.9,-2 2,-2 1.1,0 2,0.9 2,2 z"
									     id="path2"
									     style="fill:#07ff00;fill-opacity:1;stroke:#ffffff;stroke-width:0.;stroke-dasharray:none;stroke-opacity:1" />
									</svg>
								</span>
							</button>
					</div>

					<div id="arrow">
						<svg
						   width="100%"
						   viewBox="0 0 179.84215 82.504021"
						   version="1.1"
						   id="svg_Horizontal"
						   xmlns="http://www.w3.org/2000/svg"
						   xmlns:svg="http://www.w3.org/2000/svg">
						  <defs
						     id="defs1" />
						  <g
						     id="layer1">
						    <path
						       id="rect1"
						       style="fill:#3f16e9;fill-opacity:0.986834;stroke:#000000;stroke-width:2.003;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:1.2018;paint-order:normal"
						       d="M 105.6871,1.692148 V 21.753459 H 1.0015 v 38.9971 h 104.6856 v 20.06131 l 72.07364,-39.55986 z" />
						    <text
						       xml:space="preserve"
						       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:22.5778px;font-family:MathJax_Math;-inkscape-font-specification:MathJax_Math;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#ffffff;fill-opacity:0.986834;stroke:#ffffff;stroke-width:0;stroke-linecap:square;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:4.54224;stroke-opacity:1"
						       x="46.944424"
						       y="46.867077"
						       id="text1"><tspan
						         id="tspan1"
						         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:22.5778px;font-family:MathJax_Math;-inkscape-font-specification:MathJax_Math;fill:#ffffff;fill-opacity:0.986834;stroke:#ffffff;stroke-width:0;stroke-dasharray:none;stroke-opacity:1"
						         x="46.944424"
						         y="46.867077">F (x,y)</tspan></text>
						  </g>
						</svg>
						
						<svg
						   width="100%"
						   viewBox="0 0 82.504013 179.84216"
						   version="1.1"
						   id="svg_Vertical"
						   xmlns="http://www.w3.org/2000/svg"
						   xmlns:svg="http://www.w3.org/2000/svg">
						  <defs
						     id="defs2" />
						  <g
						     id="layer2">
						    <path
						       id="rect2"
						       style="fill:#3f16e9;fill-opacity:0.986834;stroke:#000000;stroke-width:2.003;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:1.2018;paint-order:normal"
						       d="M 80.811866,105.6871 H 60.750556 V 1.0015 H 21.753458 V 105.6871 H 1.6921479 l 39.5598601,72.07365 z" />
						    <text
						       xml:space="preserve"
						       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:22.5778px;line-height:0;font-family:MathJax_Math;-inkscape-font-specification:MathJax_Math;text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#ffffff;fill-opacity:0.986834;stroke:#ffffff;stroke-width:0;stroke-linecap:square;stroke-miterlimit:10;stroke-dasharray:none;stroke-dashoffset:4.54224;stroke-opacity:1"
						       x="-108.99285"
						       y="48.140285"
						       id="text2"
						       transform="rotate(-90)"><tspan
						         id="tspan2"
						         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:22.5778px;line-height:0;font-family:MathJax_Math;-inkscape-font-specification:MathJax_Math;fill:#ffffff;fill-opacity:0.986834;stroke:#ffffff;stroke-width:0;stroke-dasharray:none;stroke-opacity:1"
						         x="-108.99285"
						         y="48.140285">F (x,y)</tspan></text>
						  </g>
						</svg>

					</div>
					
					<div id="input">
						<p>\[\begin{align}
								F\colon \R^2 &\to \R^2\\
								(x,y) &\mapsto (f_1(x,y), f_2(x,y))
							\end{align}\]
						</p>
						<div>
					      <p>\(f_1(x,y)\)</p>	<input type="text" id="f1" placeholder="Enter f_1(x,y)" />
					      <div id="renderMath1"></div>
						</div>
						<div>
						  	<p>\(f_2(x,y)\)</p>
					      <input type="text" id="f2" placeholder="Enter f_2(x,y)">
					      <div id="renderMath2"></div>
					    </div>

					</div>
					<input type="file" id="fileInput" accept=".svg,.png,.jpg,.jpeg,.webp,.bmp,.tif,.tiff,image/png,image/jpeg,image/webp,image/bmp,image/tiff" style="display:none;"/>
					<div id="imageButtons">
						<button  id="uploadBtn" class="imageButton">Upload Image</button>
						<button id="editBtn" class="imagebutton"> Edit Image</button>
					</div>
					<div id="output_display" class="canvasContainer">
							<canvas id="Grid02"></canvas>
					</div>
			</div>

					
		</div>
	<section class="modal-container" id="inputResolution">
		<section class="modal">
			<button class="close-btn" id="closeRes">x</button>
			<div class="modal-content">
				<h2 class="imageName" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">:)</h1>
				<div class = "modal-form">
					<div>
						<label for="pointsInput">Points per Curve</label>
						<input 
							type="number"
							id="pointsInput"
							placeholder="Enter Favourite Number"
							class="resolution-input"
							min="2"
							max="1000"
							step="1"
							value="100"
						/>
					</div>
					<!--No usar este tipo de submits para nuestra app-->
					<button id="ok-btnPoints" class="submit-btn"> Ok </Button>
				</div>
			</div>
		</section>
	</section>
	<section class="modal-container" id="modal">
		<section class="modal">
			<button class="close-btn" id="closeModal">x</button>
			<div class="modal-content">
				<h2 class="imageName" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">:)</h1>
				
					<div id="sizeInput">
						<div>
							<label for="widthInput">Width</label>
							<input 
								type="number"
								step="0.000000000000001"
								id="widthInput"
								placeholder="Enter Favourite Number"
								class="form-input"
								min="-5000"
								max="5000"
								value="0"
							/>
						</div>
						<div>
							<label for="heightInput">Height</label>
							<input 
								type="number"
								step="0.000000000000001"
								id="heightInput"
								placeholder="Enter Favourite Number"
								class="form-input"
								min="-5000"
								max="5000"
								value="0"
							/>
						</div>
						<div id="linkContainer">
							<button id="linkBtn">
								<span id="linkedSVG">
									<svg
									   width="100%"
									   viewBox="0 0 24.00143 24.000095"
									   version="1.1"
									   xmlns="http://www.w3.org/2000/svg"
									   xmlns:svg="http://www.w3.org/2000/svg">
									  <defs
									     id="defs2" />
									  <path
									     fill="#494c4e"
									     d="m 18.938826,9.6382953e-5 c -1.262,0 -2.51,0.469999997047 -3.454,1.412000017047 l -2.973,2.973 c -1.675,1.674 -1.852,4.292 -0.56,6.2349996 0,0.014 0.006,0.02 0.013,0.028 l -1.31,1.313 c -0.008,-0.005 -0.015,-0.012 -0.03,-0.012 -0.8440002,-0.575 -1.8150002,-0.852 -2.7870002,-0.86 -1.258,0.008 -2.506,0.477 -3.45,1.42 l -2.969,2.971 c -1.91600004,1.915 -1.88800004,5.08 0.063,7.03 0.985,0.987 2.29,1.484 3.575,1.49 1.27,-0.006 2.504,-0.475 3.448,-1.418 l 2.9800002,-2.98 c 1.66,-1.66 1.86,-4.27 0.59,-6.207 l 1.31,-1.326 c 0.846,0.544 1.81,0.83 2.775,0.83 1.265,0 2.506,-0.478 3.45,-1.42 l 2.98,-2.9799996 c 1.907,-1.91 1.88,-5.073 -0.07,-7.024 -0.998,-0.99300002 -2.296,-1.48300002 -3.581,-1.475000017047 z M 10.611826,14.855096 c 0.518,1.1 0.333,2.448 -0.546,3.327 l -2.9740002,2.973 c -0.532,0.532 -1.256,0.83 -2.036,0.83 -0.81,0 -1.575,-0.312 -2.157,-0.894 -0.568,-0.565 -0.88,-1.33 -0.895,-2.126 -0.007,-0.788 0.298,-1.518 0.837,-2.058 l 2.973,-2.973 c 0.532,-0.532 1.248,-0.837 2.022,-0.83 0.47,0 0.922,0.1 1.333,0.298 l -1.894,1.895 c -0.397,0.397 -0.39,1.028 0,1.42 0.39,0.39 1.02,0.396 1.42,0 l 1.8860002,-1.888 0.03,0.03 z m 10.55,-7.7669996 -2.973,2.9719996 c -0.533,0.534 -1.257,0.83 -2.037,0.83 -0.453,0 -0.894,-0.097 -1.29,-0.282 l -0.03,-0.028 2.896,-2.8949996 c 0.39,-0.39 0.39,-1.028 0,-1.42 -0.39,-0.392 -1.03,-0.39 -1.42,0 l -2.9,2.902 c -0.194,-0.404 -0.293,-0.844 -0.3,-1.305 -0.014,-0.78 0.29,-1.51 0.83,-2.05 l 2.973,-2.974 c 0.525,-0.54 1.25,-0.838 2.03,-0.837 0.815,0.01 1.574,0.328 2.156,0.896 1.162,1.177 1.2,3.057 0.062,4.193 z"
									     id="path1"
									     style="fill:#000000;fill-opacity:1" />
									  <path
									     fill="#494c4e"
									     d="m 11.951826,10.620096 c 0,0.015 0.007,0.022 0.014,0.03 l -1.312,1.31 c -0.007,-0.006 -0.014,-0.013 -0.028,-0.013 l 1.326,-1.326 z"
									     id="path2"
									     style="fill:#000000;fill-opacity:1" />
									</svg>
								</span>
								<span id="unlikedSVG" hidden>
									<svg
									   width="100%"
									   viewBox="0 0 23.930032 23.991815"
									   version="1.1"
									   xmlns="http://www.w3.org/2000/svg"
									   xmlns:svg="http://www.w3.org/2000/svg">
									  <defs
									     id="defs1" />
									  <path
									     fill="#494c4e"
									     fill-rule="evenodd"
									     d="m 13.987953,14.798701 -0.909,0.315 a 4.983,4.983 0 0 0 -2.126,-1.983 4.872,4.872 0 0 0 -3.7090002,-0.232 l -3.96,1.374 a 4.971,4.971 0 0 0 -3.00000003,6.332 5.084,5.084 0 0 0 2.55400003,2.894 4.849,4.849 0 0 0 3.709,0.229 l 3.9690002,-1.374 a 4.939,4.939 0 0 0 3.231,-5.309 l 0.515,-0.182 -0.313,-1.264 z m -4.1270002,5.663 -3.959,1.371 a 2.848,2.848 0 0 1 -2.187,-0.142 3.017,3.017 0 0 1 -1.545,-1.74 3.072,3.072 0 0 1 0.125,-2.3 2.846,2.846 0 0 1 1.646,-1.48 l 3.96,-1.372 a 2.8,2.8 0 0 1 2.1740002,0.136 3.046,3.046 0 0 1 1.066,0.848 l -2.5230002,0.874 a 1.0001406,1.0001406 0 1 0 0.655,1.89 l 2.5130002,-0.87 0.013,0.038 a 2.934,2.934 0 0 1 -1.9380002,2.747 z M 23.808953,3.9477007 a 4.992,4.992 0 0 0 -2.2,-3.16300005 4.84,4.84 0 0 0 -3.662,-0.676 l -4.094,0.89 a 4.931,4.931 0 0 0 -3.827,4.93000005 l -0.4550002,0.1 -0.138,0.91 0.193,1.16 0.8260002,-0.184 a 5.1,5.1 0 0 0 1.879,2.1900003 4.83,4.83 0 0 0 3.656,0.667 l 4.1,-0.8940003 a 4.969,4.969 0 0 0 3.722,-5.93 z m -4.158,3.977 -4.094,0.892 a 2.848,2.848 0 0 1 -2.155,-0.4 3.055,3.055 0 0 1 -0.93,-0.933 l -0.009,-0.039 3.987,-0.869 a 1,1 0 0 0 -0.424,-1.954 l -4,0.871 a 3.131,3.131 0 0 1 0.453,-1.255 2.807,2.807 0 0 1 1.8,-1.273 l 4.094,-0.892 a 2.8,2.8 0 0 1 2.153,0.391 3.1,3.1 0 0 1 1.328,1.911 2.972,2.972 0 0 1 -2.203,3.55 z"
									     id="path1"
									     style="fill:#000000;fill-opacity:1" />
									</svg>
								</span>
							</button>
						</div>
					</div>
					
				<div class = "modal-form">
					<div>
						<label for="positionXInput">Position X</label>
						<input 
							type="number"
							step="0.000000000000001"
							id="positionXInput"
							placeholder="Enter Favourite Number"
							class="form-input"
							min="-5000"
							max="5000"
							value="0"
						/>
					</div>
					<div>
						<label for="positionYInput">Position Y</label>
						<input 
							type="number"
							step="0.000000000000001"
							id="positionYInput"
							placeholder="Enter Favourite Number"
							class="form-input"
							min="-5000"
							max="5000"
							value="0"
						/>
					</div>
					<div>
						<label for="rotationInput">Rotation in Degrees</label>
						<input 
							type="number"
							step="0.000001"
							id="rotationInput"
							placeholder="Enter Favourite Number"
							class="form-input"
							min="0"
							max="360"
							value="0"
						/>
					</div>
					<!--No usar este tipo de submits para nuestra app-->
					<button id="ok-btn" class="submit-btn"> Ok </Button>
				</div>
			</div>
		</section>
	</section>


	<script type="module" src="main.js"></script>

	<script>
		window.MathJax = {
		  tex: {
		    macros: {
		      'lp': '\\left(',
		      'rp': '\\right)',
		      'R': '{\\mathbb{R}}'
		    }
		  }
		};
	</script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>

</body>
</html>